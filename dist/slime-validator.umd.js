!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlimeValidator=t():e.SlimeValidator=t()}(self,(function(){return e={45:function(e,t,n){var r=["message","validate","$fields"];function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(712),s=c.isArray,l=c.isObject,f=c.isString,g=c.isFunction,v={},d="Input";function m(){return!0}function p(e,t,n,a){var i=t,c=e;l(t)||(i=u({},d,i),c=u({},d,c));for(var b=Object.keys(c),h=b.length,y=null,x=0;x<h;x++){var j=b[x],w=c[j],O=i[j],S=!1,N=null;a=t;for(var P=s(w)?w:[w],E=P.length,V=0;V<E&&!S;V++){for(var A=P[V],k=A.message,z=A.validate,M=A.$fields,R=o(A,r),$=Object.keys(R),F=$.length,I=0;I<F&&!S;I++){var L=$[I],Z=v[L];if(!Z)throw new Error("Plugin with tagName = ".concat(L," is not registered!"));var q=z||Z.validate||m,T={tagName:L,tagValue:R[L],root:n,parent:a};!1===q(j,O,T)&&(S=!0,N=u({},j,k&&g(k)?k(j,O,T):k&&f(k)?k:Z.message(j,O,T)))}if(M&&!S)if(l(O)){var U=p(M,O,n,t);l(U)&&Object.keys(U).length>0&&(S=!0,N=u({},j,U))}else if(s(O)){for(var C=[],D=O.length,_=0;_<D;_++){var B=l(O[_])?p(M,O[_],n,t):p(u({},j,M),u({},j,O[_]),n,t);Object.keys(B||{}).length>0&&(S=!0),C.push(l(O[_])||null===B?B:B[j])}S&&(N=u({},j,C))}else console.warn("$fields for ".concat(j," will be ignored"))}S&&(j===d?y=N[j]:null===y?y=u({},j,N[j]):y[j]=N[j])}return y}var b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,e),!l(t)&&!s(t))throw new Error("Schema must be an Object or Array");this.schema=t}var t,n;return t=e,(n=[{key:"validate",value:function(e){return p(this.schema,e,e,e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();b.validate=function(e,t){if(!l(e)&&!s(e))throw new Error("Schema must be an Object or Array");return p(e,t,t,t)},b.usePlugin=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!l(e))throw new Error("Parameter must be Object ant can not be empty");var n=e.tagName,r=e.message,a=e.validate;if(!f(n)||n.length<=0)throw new Error("tagName must be String and not empty.");if(!g(r)||!g(a))throw new Error("message and validate must be Function.");if(!t&&void 0!==v[n])throw new Error("Plugin [ ".concat(n," ] is existed"));void 0!==v[n]&&console.warn("Plugin [ ".concat(n," ] is existed and will be replaced")),v[n]={message:r,validate:a}},b.usePlugin(n(566)),b.usePlugin(n(82)),b.usePlugin(n(178)),b.usePlugin(n(680)),b.usePlugin(n(434)),b.usePlugin(n(563)),b.usePlugin(n(556)),b.usePlugin(n(466)),b.usePlugin(n(832)),b.usePlugin(n(153)),e.exports=b},178:function(e,t,n){var r=n(712).isArray;e.exports={tagName:"Enum",message:function(e,t,n){return"".concat(e," with value ").concat(t," is incorrect")},validate:function(e,t,n){var a=n.tagValue;return!t||!r(a)||a.indexOf(t)>-1}}},832:function(e,t,n){var r=n(712).isString,a=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;e.exports={tagName:"IsEmail",message:function(e,t,n){return"".concat(e," is not a email")},validate:function(e,t,n){return!n.tagValue||!t||!!r(t)&&!!t.match(a)}}},153:function(e,t,n){var r=n(712).isString;e.exports={tagName:"IsURL",message:function(e,t,n){return"".concat(e," is not a url")},validate:function(e,t,n){var a=n.tagValue,i=n.allowDataUrl,o=void 0!==i&&i,u=n.allowLocal,c=void 0!==u&&u,s=n.schemes,l=void 0===s?["http","https"]:s;if(!a||!t)return!0;if(!r(t))return!1;var f="^(?:(?:"+l.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";return c?g+="?":f+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",f+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+g+")(?::\\d{2,5})?(?:[/?#]\\S*)?$",o&&(f="(?:"+f+")|(?:^data:(?:\\w+\\/[-+.\\w]+(?:;[\\w=]+)*)?(?:;base64)?,[A-Za-z0-9-_.!~\\*'();\\/?:@&=+$,%]*$)"),!!t.match(f)}}},680:function(e,t,n){var r=n(712),a=r.isArray,i=r.isString;e.exports={tagName:"MaxLength",message:function(e,t,n){var r=n.tagValue,a=void 0===r?0:r;return"Max length of ".concat(e," is ").concat(a)},validate:function(e,t,n){var r=n.tagValue,o=void 0===r?0:r;return!t||!!(a(t)&&t.length<=o)||!!(i(t)&&t.length<=o)}}},563:function(e,t,n){var r=n(712).isNumber;e.exports={tagName:"MaxNum",message:function(e,t,n){var r=n.tagValue,a=void 0===r?0:r;return"Max value of ".concat(e," is ").concat(a)},validate:function(e,t,n){var a=n.tagValue,i=void 0===a?0:a;return!t||!!(r(t)&&t<=i)}}},434:function(e,t,n){var r=n(712),a=r.isArray,i=r.isString;e.exports={tagName:"MinLength",message:function(e,t,n){var r=n.tagValue,a=void 0===r?0:r;return"Min length of ".concat(e," is ").concat(a)},validate:function(e,t,n){var r=n.tagValue,o=void 0===r?0:r;return!t&&""!==t||!!(a(t)&&t.length>=o)||!!(i(t)&&t.length>=o)}}},556:function(e,t,n){var r=n(712).isNumber;e.exports={tagName:"MinNum",message:function(e,t,n){var r=n.tagValue,a=void 0===r?0:r;return"Min value of ".concat(e," is ").concat(a)},validate:function(e,t,n){var a=n.tagValue,i=void 0===a?0:a;return!t||!!(r(t)&&t>=i)}}},82:function(e,t,n){var r=n(712),a=r.isArray,i=r.isString,o=r.isObject;e.exports={tagName:"NotEmpty",message:function(e,t,n){return"".concat(e," is empty")},validate:function(e,t,n){var r=n.tagValue;return!(void 0!==r&&r&&null!=t&&!(a(t)&&t.length>0)&&!(i(t)&&t.length>0)&&!(o(t)&&Object.keys(t).length>0))}}},466:function(e,t,n){var r=n(712),a=r.isString,i=r.isRegExp;e.exports={tagName:"RegExp",message:function(e,t,n){return"Test ".concat(e," is failed")},validate:function(e,t,n){var r=n.tagValue;return a(r)&&(r=new RegExp(r)),!i(r)||r.test(t)}}},566:function(e){e.exports={tagName:"Required",message:function(e,t,n){return"".concat(e," is required")},validate:function(e,t,n){var r=n.tagValue;return!(void 0!==r&&r)||null!=t}}},712:function(e){e.exports={isArray:function(e){return Array.isArray(e)},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e)},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)}}}},t={},function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(45);var e,t}));